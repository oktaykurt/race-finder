CREATE TABLE organizers (
    id SERIAL PRIMARY KEY,
    username VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role VARCHAR(50) NOT NULL DEFAULT 'organizer' CHECK (role IN ('admin', 'organizer'))
);

CREATE TABLE races (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    date DATE NOT NULL,
    city VARCHAR(255) NOT NULL,
    country VARCHAR(255) NOT NULL,
    organizer_id INTEGER NOT NULL,
    FOREIGN KEY (organizer_id) REFERENCES organizers(id) ON DELETE CASCADE
);

CREATE TABLE distances (
    id SERIAL PRIMARY KEY,
    race_id INTEGER NOT NULL,
    distance_name VARCHAR(255) NOT NULL,
    distance_in_km NUMERIC(7, 4) NOT NULL,
    race_link VARCHAR(255),
    FOREIGN KEY (race_id) REFERENCES races(id) ON DELETE CASCADE
);

INSERT INTO organizers (id, username, password, role) VALUES
(1, 'admin', '$2b$10$DAYbV0Eo1I88IVSKDlUcVuMZjl59TrGdoC8XnU4GbdsLNBpiTCx3K', 'admin'),
(2, 'organizer', '$2b$10$I8z3VP7GPsY09CWDmvZ8tOKJidGmQWbwDcRGHecWHbNkhXmG9vslm', 'organizer');

INSERT INTO races (name, date, city, country, organizer_id) VALUES
('Spitsbergen Marathon', '2025-06-14', 'Svalbard', 'Norway', 1),
('Budapest Night Run', '2025-06-28', 'Budapest', 'Hungary', 1),
('AJ Bell Great North 10k', '2025-07-06', 'Newcastle upon Tyne', 'United Kingdom', 1),
('Corrida das Fogueiras (Bonfire Race)', '2025-07-12', 'Peniche', 'Portugal', 1),
('Valle d''Aosta SuperMarathon', '2025-07-13', 'Pont-Saint-Martin', 'Italy', 1),
('Défi du Portet', '2025-07-20', 'Saint-Lary-Soulan', 'France', 1),
('Königsschlösser Romantik Marathon', '2025-07-26', 'Füssen', 'Germany', 1),
('Islandsbanki Reykjavik Marathon', '2025-08-23', 'Reykjavík', 'Iceland', 1),
('Björn Borg Helsinki Marathon', '2025-08-23', 'Helsinki', 'Finland', 1),
('Jönköping Marathon & Half Marathon', '2025-08-30', 'Jönköping', 'Sweden', 1),
('The Big Half', '2025-09-07', 'London', 'United Kingdom', 1),
('AJ Bell Great North Run', '2025-09-07', 'Newcastle upon Tyne', 'United Kingdom', 1),
('Wizz Air Budapest Half Marathon', '2025-09-07', 'Budapest', 'Hungary', 1),
('Trondheim Maraton', '2025-09-06', 'Trondheim', 'Norway', 1),
('Swedbank Tallinn Marathon', '2025-09-12', 'Tallinn', 'Estonia', 1),
('Copenhagen Half Marathon', '2025-09-14', 'Copenhagen', 'Denmark', 1),
('BMW Oslo Maraton', '2025-09-20', 'Oslo', 'Norway', 1),
('BMW BERLIN-MARATHON', '2025-09-21', 'Berlin', 'Germany', 1),
('Baxters Loch Ness Marathon', '2025-09-28', 'Inverness', 'United Kingdom', 1),
('Generali Cologne Marathon', '2025-10-05', 'Cologne', 'Germany', 1),
('Oysho Cardiff Half Marathon', '2025-10-05', 'Cardiff', 'United Kingdom', 1),
('EDP Lisbon Marathon', '2025-10-05', 'Lisbon', 'Portugal', 1),
('SPAR Budapest Marathon', '2025-10-11', 'Budapest', 'Hungary', 1),
('TCS Amsterdam Marathon', '2025-10-19', 'Amsterdam', 'Netherlands', 1),
('NLB Ljubljana Marathon', '2025-10-18', 'Ljubljana', 'Slovenia', 1),
('Wizz Air Venice Marathon', '2025-10-26', 'Venice', 'Italy', 1),
('Irish Life Dublin Marathon', '2025-10-26', 'Dublin', 'Ireland', 1),
('Mainova Frankfurt Marathon', '2025-10-26', 'Frankfurt', 'Germany', 1),
('Valencia Half Marathon Trinidad Alfonso Zurich', '2025-10-26', 'Valencia', 'Spain', 1),
('Athens Marathon. The Authentic', '2025-11-09', 'Athens', 'Greece', 1),
('Istanbul Marathon', '2025-11-02', 'Istanbul', 'Turkey', 1),
('Valencia Marathon Trinidad Alfonso', '2025-12-07', 'Valencia', 'Spain', 1),
('Funchal Marathon', '2026-01-18', 'Funchal', 'Portugal', 1),
('Zurich Maratón de Sevilla', '2026-02-15', 'Seville', 'Spain', 1),
('Malta Marathon', '2026-02-22', 'Mdina', 'Malta', 1),
('Cyprus Marathon', '2026-03-08', 'Paphos', 'Cyprus', 1),
('Acea Run Rome The Marathon', '2026-03-22', 'Rome', 'Italy', 1),
('Zurich Marató Barcelona', '2026-03-15', 'Barcelona', 'Spain', 1),
('GENERALI BERLIN HALF MARATHON', '2026-03-29', 'Berlin', 'Germany', 1),
('TotalEnergies Malaga Half Marathon', '2026-03-15', 'Málaga', 'Spain', 1),
('Generali Prague Half Marathon', '2026-04-04', 'Prague', 'Czech Republic', 1),
('Wizz Air Milano Marathon', '2026-04-12', 'Milan', 'Italy', 1),
('Schneider Electric Marathon de Paris', '2026-04-12', 'Paris', 'France', 1),
('Vienna City Marathon', '2026-04-19', 'Vienna', 'Austria', 1),
('TCS London Marathon', '2026-04-26', 'London', 'United Kingdom', 1),
('European Running Championships', '2026-04-12', 'Brussels', 'Belgium', 1),
('Orlen Prague Marathon', '2026-05-03', 'Prague', 'Czech Republic', 1),
('Copenhagen Marathon', '2026-05-10', 'Copenhagen', 'Denmark', 1),
('Edinburgh Marathon Festival', '2026-05-23', 'Edinburgh', 'United Kingdom', 1),
('Generali Cologne Marathon', '2026-10-04', 'Cologne', 'Germany', 1),
('Mainova Frankfurt Marathon', '2026-10-25', 'Frankfurt', 'Germany', 1),
('Athens Marathon. The Authentic', '2026-11-08', 'Athens', 'Greece', 1),
('Istanbul Marathon', '2026-11-01', 'Istanbul', 'Turkey', 1),
('Valencia Marathon Trinidad Alfonso', '2026-12-06', 'Valencia', 'Spain', 1),
('Generali Malaga Marathon', '2026-12-13', 'Málaga', 'Spain', 1);

INSERT INTO distances (race_id, distance_name, distance_in_km, race_link) VALUES
(1, 'Marathon', 42.1950, 'https://www.spitsbergenmarathon.no/'),
(1, 'Half Marathon', 21.0975, 'https://www.spitsbergenmarathon.no/'),
(2, 'Half Marathon', 21.0975, 'https://runinbudapest.com/'),
(2, '10K', 10.0000, 'https://runinbudapest.com/'),
(3, '10K', 10.0000, 'https://www.greatrun.org/events/great-north-10k/'),
(4, '15K', 15.0000, NULL),
(5, 'Marathon', 42.1950, 'https://www.supermaraton.it/'),
(5, 'Half Marathon', 21.0980, 'https://www.supermaraton.it/'),
(6, 'Marathon', 42.1950, 'https://www.defi-portet.com/'),
(6, 'Half Marathon', 21.0975, 'https://www.defi-portet.com/'),
(6, '10K', 10.0000, 'https://www.defi-portet.com/'),
(7, 'Marathon', 42.1950, 'https://www.koenigsschloesser-romantik-marathon.de/'),
(7, 'Half Marathon', 21.0975, 'https://www.koenigsschloesser-romantik-marathon.de/'),
(7, '10K', 10.0000, 'https://www.koenigsschloesser-romantik-marathon.de/'),
(8, 'Marathon', 42.2000, 'https://www.rmi.is/en'),
(8, 'Half Marathon', 21.1000, 'https://www.rmi.is/en'),
(8, '10K', 10.0000, 'https://www.rmi.is/en'),
(8, 'Fun Run', 3.0000, 'https://www.rmi.is/en'),
(9, 'Marathon', 42.1950, 'https://www.helsinkimarathon.fi/en/'),
(9, 'Half Marathon', 21.0975, 'https://www.helsinkimarathon.fi/en/'),
(9, '10k', 10.0000, 'https://www.helsinkimarathon.fi/en/'),
(9, 'Marathon Relay', 42.1950, 'https://www.helsinkimarathon.fi/en/'),
(10, 'Marathon', 42.1950, 'https://jonkopingmarathon.se/'),
(10, 'Half Marathon', 21.0975, 'https://jonkopingmarathon.se/'),
(11, 'Half Marathon', 21.0975, 'https://www.thebighalf.co.uk/'),
(12, 'Half Marathon', 21.0975, 'https://www.greatrun.org/events/great-north-run/'),
(13, 'Half Marathon', 21.0975, 'https://halfmarathon.runinbudapest.com/'),
(14, 'Marathon', 42.1950, 'https://trondheimmaraton.no/'),
(14, 'Half Marathon', 21.0975, 'https://trondheimmaraton.no/'),
(14, '10K', 10.0000, 'https://trondheimmaraton.no/'),
(15, 'Marathon', 42.1950, 'https://www.jooks.ee/en/tallinn-marathon/'),
(15, 'Half Marathon', 21.0975, 'https://www.jooks.ee/en/tallinn-marathon/'),
(15, '10K', 10.0000, 'https://www.jooks.ee/en/tallinn-marathon/'),
(15, '5K', 5.0000, 'https://www.jooks.ee/en/tallinn-marathon/'),
(16, 'Half Marathon', 21.0975, 'https://www.cphhalf.dk/en/'),
(17, 'Marathon', 42.2000, 'https://oslomaraton.no/en/'),
(17, 'Half Marathon', 21.1000, 'https://oslomaraton.no/en/'),
(17, '10 for Grete', 10.0000, 'https://oslomaraton.no/en/'),
(18, 'Marathon', 42.1950, 'https://www.bmw-berlin-marathon.com/en/'),
(19, 'Marathon', 42.1950, 'https://lochnessmarathon.com/'),
(19, '10K', 10.0000, 'https://lochnessmarathon.com/'),
(19, '5K', 5.0000, 'https://lochnessmarathon.com/'),
(20, 'Marathon', 42.1950, 'https://generali-koeln-marathon.de/en/'),
(20, 'Half Marathon', 21.0975, 'https://generali-koeln-marathon.de/en/'),
(21, 'Half Marathon', 21.0975, 'https://www.cardiffhalfmarathon.co.uk/'),
(22, 'Marathon', 42.1950, 'https://www.running-portugal.com/lisbon/marathon/en/registration.html'),
(22, 'Half Marathon', 21.0975, 'https://www.running-portugal.com/lisbon/marathon/en/registration.html'),
(22, '8.5K', 8.5000, 'https://www.running-portugal.com/lisbon/marathon/en/registration.html'),
(23, 'Marathon', 42.1950, 'https://marathon.runinbudapest.com/'),
(23, '30K', 30.0000, 'https://marathon.runinbudapest.com/'),
(23, 'Half Marathon', 21.0975, 'https://marathon.runinbudapest.com/'),
(23, '10K', 10.0000, 'https://marathon.runinbudapest.com/'),
(23, '5K', 5.0000, 'https://marathon.runinbudapest.com/'),
(24, 'Marathon', 42.1950, 'https://www.tcsamsterdammarathon.eu/en/'),
(24, 'Half Marathon', 21.0975, 'https://www.tcsamsterdammarathon.eu/en/'),
(24, '8K', 8.0000, 'https://www.tcsamsterdammarathon.eu/en/'),
(25, 'Marathon', 42.1950, 'https://www.ljubljanskimaraton.si/en/'),
(25, 'Half Marathon', 21.0980, 'https://www.ljubljanskimaraton.si/en/'),
(25, '10K', 10.0000, 'https://www.ljubljanskimaraton.si/en/'),
(26, 'Marathon', 42.1950, 'https://www.venicemarathon.it/en/'),
(26, 'Half Marathon', 21.0975, 'https://www.venicemarathon.it/en/'),
(26, '10K', 10.0000, 'https://www.venicemarathon.it/en/'),
(27, 'Marathon', 42.1950, 'https://irishlifedublinmarathon.ie/'),
(28, 'Marathon', 42.1950, 'https://www.frankfurt-marathon.com/en/'),
(28, 'Relay Marathon', 42.1950, 'https://www.frankfurt-marathon.com/en/'),
(28, 'Mini-Marathon', 4.2000, 'https://www.frankfurt-marathon.com/en/'),
(28, 'Shock-headed Peter Run', 0.4200, 'https://www.frankfurt-marathon.com/en/'),
(29, 'Half Marathon', 21.0975, 'https://www.valenciaciudaddelrunning.com/en/half-marathon/'),
(30, 'Marathon', 42.1950, 'https://www.athensauthenticmarathon.gr/'),
(30, '10K', 10.0000, 'https://www.athensauthenticmarathon.gr/'),
(30, '5K', 5.0000, 'https://www.athensauthenticmarathon.gr/'),
(31, 'Marathon', 42.1950, 'https://maraton.istanbul/'),
(31, '15K', 15.0000, 'https://maraton.istanbul/'),
(32, 'Marathon', 42.1950, 'https://www.valenciaciudaddelrunning.com/en/marathon/'),
(33, 'Marathon', 42.1950, 'https://www.maratonadofunchal.com/'),
(33, 'Half Marathon', 21.0975, 'https://www.maratonadofunchal.com/'),
(33, '8K', 8.0000, 'https://www.maratonadofunchal.com/'),
(34, 'Marathon', 42.1950, 'https://en.zurichmaratonsevilla.es/'),
(34, '5K Breakfast Run', 5.0000, 'https://en.zurichmaratonsevilla.es/'),
(35, 'Marathon', 42.1950, 'https://www.maltamarathon.com/'),
(35, 'Half Marathon', 21.0975, 'https://www.maltamarathon.com/'),
(36, 'Marathon', 42.1950, 'https://logicomcyprusmarathon.com/'),
(36, 'Half Marathon', 21.0975, 'https://logicomcyprusmarathon.com/'),
(36, '10K', 10.0000, 'https://logicomcyprusmarathon.com/'),
(36, '5K', 5.0000, 'https://logicomcyprusmarathon.com/'),
(37, 'Marathon', 42.1950, 'https://www.runromethemarathon.com/en/'),
(37, 'Relay', 42.1950, 'https://www.runromethemarathon.com/en/'),
(38, 'Marathon', 42.1950, 'https://www.zurichmaratobarcelona.es/en/'),
(38, '10K', 10.0000, 'https://www.zurichmaratobarcelona.es/en/'),
(39, 'Half Marathon', 21.0975, 'https://www.generali-berliner-halbmarathon.de/en/'),
(40, 'Half Marathon', 21.0975, 'https://en.mediamaratonmalaga.com/'),
(41, 'Half Marathon', 21.0975, 'https://www.runczech.com/en/'),
(42, 'Marathon', 42.1950, 'https://www.milanomarathon.it/en/'),
(42, 'Relay Marathon', 42.1950, 'https://www.milanomarathon.it/en/'),
(43, 'Marathon', 42.1950, 'https://www.schneiderelectricparismarathon.com/en/'),
(43, '4K', 4.0000, 'https://www.schneiderelectricparismarathon.com/en/'),
(44, 'Marathon', 42.0000, 'https://www.vienna-marathon.com/?lang=en'),
(44, 'Half Marathon', 21.0000, 'https://www.vienna-marathon.com/?lang=en'),
(44, '5K', 5.0000, 'https://www.vienna-marathon.com/?lang=en'),
(45, 'Marathon', 42.1950, 'https://www.tcslondonmarathon.com/'),
(45, 'Virtual Marathon', 42.1950, 'https://www.tcslondonmarathon.com/'),
(46, 'Marathon', 42.1950, 'https://www.brusselsrunningchampionships.com/'),
(46, 'Half Marathon', 21.0975, 'https://www.brusselsrunningchampionships.com/'),
(46, '10K', 10.0000, 'https://www.brusselsrunningchampionships.com/'),
(47, 'Marathon', 42.1950, 'https://www.runczech.com/en/'),
(47, '2Run (2x21.1K)', 42.1950, 'https://www.runczech.com/en/'),
(48, 'Marathon', 42.1950, 'https://copenhagenmarathon.dk/en/'),
(49, 'Marathon', 42.1950, 'https://www.edinburghmarathon.com/'),
(49, 'Half Marathon', 21.0975, 'https://www.edinburghmarathon.com/'),
(49, '10K', 10.0000, 'https://www.edinburghmarathon.com/'),
(49, '5K', 5.0000, 'https://www.edinburghmarathon.com/'),
(49, 'Junior 2K', 2.0000, 'https://www.edinburghmarathon.com/'),
(49, 'Junior 1.5K', 1.5000, 'https://www.edinburghmarathon.com/'),
(50, 'Marathon', 42.1950, 'https://generali-koeln-marathon.de/en/'),
(50, 'Half Marathon', 21.0975, 'https://generali-koeln-marathon.de/en/'),
(51, 'Marathon', 42.1950, 'https://www.frankfurt-marathon.com/en/'),
(52, 'Marathon', 42.1950, 'https://www.athensauthenticmarathon.gr/'),
(52, '10K', 10.0000, 'https://www.athensauthenticmarathon.gr/'),
(52, '5K', 5.0000, 'https://www.athensauthenticmarathon.gr/'),
(53, 'Marathon', 42.1950, 'https://maraton.istanbul/'),
(53, '15K', 15.0000, 'https://maraton.istanbul/'),
(54, 'Marathon', 42.1950, 'https://www.valenciaciudaddelrunning.com/en/marathon/'),
(55, 'Marathon', 42.1950, 'https://www.generalimaratonmalaga.com/en/'),
(55, 'Half Marathon', 21.0975, 'https://www.generalimaratonmalaga.com/en/');

SELECT setval('organizers_id_seq', (SELECT MAX(id) FROM organizers));